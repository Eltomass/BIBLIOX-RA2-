â”‚                      FRONTEND (React)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Chat UI    â”‚  â”‚  Components  â”‚  â”‚    Pages    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND API (FastAPI)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Endpoints:                              â”‚ â”‚
â”‚  â”‚  - POST /api/chat      (Chat con agente)            â”‚ â”‚
â”‚  â”‚  - POST /api/plan      (PlanificaciÃ³n de tareas)    â”‚ â”‚
â”‚  â”‚  - GET  /api/tools    (Listar herramientas)         â”‚ â”‚
â”‚  â”‚  - GET  /api/memory   (Consultar memoria)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   LIBRARY AGENT (LangChain)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  PatrÃ³n ReAct    â”‚  â”‚   PlanificaciÃ³n  â”‚              â”‚
â”‚  â”‚  (Razonamiento   â”‚  â”‚   JerÃ¡rquica     â”‚              â”‚
â”‚  â”‚   + AcciÃ³n)      â”‚  â”‚                  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚           â”‚                     â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚
            â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MEMORIA        â”‚   â”‚   HERRAMIENTAS   â”‚   â”‚    LLM     â”‚
â”‚  Conversacional  â”‚   â”‚                  â”‚   â”‚  (Ollama)  â”‚
â”‚  - Historial     â”‚   â”‚  1. search_book  â”‚   â”‚            â”‚
â”‚  - ResÃºmenes     â”‚   â”‚  2. check_avail  â”‚   â”‚  qwen2.5   â”‚
â”‚  - Contexto      â”‚   â”‚  3. create_loan  â”‚   â”‚  -coder:7b â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  4. calc_fine    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚  5. get_policies â”‚
                       â”‚  6. reserve_book â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Estructura del Proyecto

```
IngDeSolucionesIA-BiblioX/
â”œâ”€â”€ src/                          # Frontend React
â”‚   â”œâ”€â”€ components/               # Componentes reutilizables
â”‚   â”‚   â”œâ”€â”€ chat/                 # Interfaz de chat
â”‚   â”‚   â””â”€â”€ books/                # GestiÃ³n de libros
â”‚   â”œâ”€â”€ pages/                    # PÃ¡ginas principales
â”‚   â”œâ”€â”€ hooks/                     # Custom hooks
â”‚   â””â”€â”€ services/                  # Servicios de API
â”œâ”€â”€ backend/                       # Backend Python
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api.py                 # API principal con agente
â”‚   â”‚   â”œâ”€â”€ agents/                 # ğŸ†• Sistema de Agentes
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py            # Agente principal (ReAct)
â”‚   â”‚   â”‚   â”œâ”€â”€ tools.py            # Herramientas del agente
â”‚   â”‚   â”‚   â”œâ”€â”€ memory.py           # Sistema de memoria
â”‚   â”‚   â”‚   â””â”€â”€ router.py          # Router de dominios
â”‚   â”‚   â”œâ”€â”€ models/                 # Modelos de IA
â”‚   â”‚   â”œâ”€â”€ rag/                    # Sistema RAG
â”‚   â”‚   â””â”€â”€ data/                   # Datos de la biblioteca
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ public/                         # Archivos estÃ¡ticos
â””â”€â”€ README.md                       # Este archivo
```

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Frontend
- **React 19**: Framework UI moderno
- **Tailwind CSS**: Estilos utilitarios
- **React Router**: NavegaciÃ³n

### Backend
- **Python 3.12**: Lenguaje principal
- **FastAPI**: Framework web asÃ­ncrono
- **LangChain 1.0**: Framework de agentes IA
- **Ollama**: Runtime local para LLMs
- **Uvicorn**: Servidor ASGI

### IA y Agent Frameworks
- **qwen2.5-coder:7b**: Modelo LLM para razonamiento
- **nomic-embed-text**: Modelo de embeddings para recuperaciÃ³n semÃ¡ntica
- **PatrÃ³n ReAct**: Razonamiento + AcciÃ³n para agentes autÃ³nomos

## âœ… Capacidades del Sistema

Este sistema demuestra las siguientes capacidades:

1. **Herramientas AutÃ³nomas**: El agente ejecuta automÃ¡ticamente bÃºsquedas, prÃ©stamos, cÃ¡lculos de multas y consultas de polÃ­ticas
2. **Memoria Conversacional**: Recuerda tu nombre, edad, preferencias y problemas que le compartes durante toda la sesiÃ³n
3. **PlanificaciÃ³n de Tareas**: Descompone objetivos complejos en pasos ejecutables
4. **Toma de Decisiones Adaptativa**: Ajusta su comportamiento segÃºn el contexto y respuestas inesperadas
5. **RecuperaciÃ³n de Contexto**: Mantiene coherencia en conversaciones prolongadas
6. **IntegraciÃ³n con Ollama**: Usa modelos locales de IA sin necesidad de API externas
7. **Arquitectura Modular**: CÃ³digo organizado en agentes, herramientas, memoria y planificaciÃ³n
8. **API Documentada**: Endpoints REST para chat, planificaciÃ³n, herramientas y memoria

---

## ğŸ”§ Herramientas del Agente

El agente implementa 6 herramientas especializadas para operaciones autÃ³nomas:

| Herramienta | FunciÃ³n | Ejemplo |
|------------|---------|---------|
| `search_book` | Buscar libros por tÃ©rmino | `search_book("cÃ³digo")` |
| `check_availability` | Verificar disponibilidad | `check_availability("Python for Data")` |
| `create_loan` | Crear prÃ©stamo | `create_loan("user123", "Libro", 14)` |
| `calculate_fine` | Calcular multa | `calculate_fine(5)` |
| `get_policies` | Consultar polÃ­ticas | `get_policies("renovaciÃ³n")` |
| `reserve_book` | Reservar libro | `reserve_book("user123", "Libro")` |

**JustificaciÃ³n**: Se implementaron estas 6 herramientas porque cubren el flujo completo de operaciones bibliotecarias: bÃºsqueda â†’ verificaciÃ³n â†’ prÃ©stamo â†’ gestiÃ³n de multas â†’ polÃ­ticas â†’ reservas. Cada herramienta es independiente y autÃ³noma, permitiendo al agente ejecutar funciones especÃ­ficas sin intervenciÃ³n manual.

---

## ğŸ§  Sistema de Memoria

### Memoria Conversacional
- **Historial de conversaciÃ³n**: Almacena todos los mensajes
- **Perfil de usuario**: Recuerda nombre, edad, preferencias y problemas
- **ResÃºmenes automÃ¡ticos**: Genera resÃºmenes para conversaciones largas (50+ mensajes)
- **LÃ­mite inteligente**: Mantiene solo lo mÃ¡s relevante para eficiencia

### RecuperaciÃ³n Contextual
- **BÃºsqueda semÃ¡ntica**: Encuentra informaciÃ³n relevante por significado
- **Persistencia**: Los datos se mantienen durante la sesiÃ³n
- **Contexto completo**: Incluye informaciÃ³n personal en cada respuesta

**CÃ³mo funciona**: El sistema almacena automÃ¡ticamente:
- Tu nombre cuando te presentas
- Tu edad si la mencionas
- Problemas o dificultades que compartes
- Preferencias de lectura o intereses

---

## ğŸ“‹ PlanificaciÃ³n de Tareas

El agente implementa planificaciÃ³n jerÃ¡rquica mediante:
- MÃ©todo `plan_task(objective)`: Descompone objetivos complejos en pasos
- MÃ©todo `execute_plan()`: Ejecuta planes multi-paso
- Iteraciones adaptativas con `max_iterations = 5`

**Ejemplo de PlanificaciÃ³n**:
```
Objetivo: "Prestar un libro de Python a un usuario"

Plan generado:
1. Buscar libro "Python"
2. Verificar disponibilidad
3. Crear prÃ©stamo
4. Confirmar con usuario
```

**JustificaciÃ³n**: La planificaciÃ³n jerÃ¡rquica permite al agente manejar objetivos complejos descomponiÃ©ndolos en tareas ejecutables, similar a la planificaciÃ³n automÃ¡tica en sistemas de agentes reales.

---

## ğŸ¯ Toma de Decisiones Adaptativa

El agente utiliza el **patrÃ³n ReAct** (Razonamiento + AcciÃ³n):

1. **Thought**: El agente razona sobre quÃ© hacer
2. **Action**: Decide quÃ© herramienta usar
3. **Observation**: Observa el resultado
4. **Final Answer**: Responde al usuario

**Ejemplo de Flujo**:
```
Usuario: "Â¿Hay libros de programaciÃ³n disponibles?"

Thought: Necesito buscar libros de programaciÃ³n
Action: search_book
Input: "programaciÃ³n"
Observation: EncontrÃ© 5 libros...
Final Answer: SÃ­, encontrÃ© estos libros...
```

**JustificaciÃ³n**: El patrÃ³n ReAct permite al agente adaptarse a respuestas imprevistas y tomar nuevas acciones basadas en observaciones, demostrando comportamiento adaptativo real.

---

## ğŸ“ JustificaciÃ³n de Componentes

### Â¿Por quÃ© estas tecnologÃ­as?

### Framework: LangChain
**Â¿Por quÃ© LangChain?**
- **IntegraciÃ³n nativa** con Ollama (modelos locales)
- **Abstracciones de alto nivel** para agentes
- **Soporte para herramientas** (function calling)
- **Ecosistema maduro** con comunidades activas
- **Compatibilidad** con modelos locales como qwen2.5-coder

### Modelo: qwen2.5-coder:7b
**Â¿Por quÃ© este modelo?**
- **Ã“ptimo para cÃ³digo**: DiseÃ±ado para razonamiento tÃ©cnico
- **Modo local**: No requiere API keys ni costos
- **TamaÃ±o moderado**: 7B parÃ¡metros balancean calidad/velocidad
- **Licencia permisiva**: Comercialmente usable
- **Dispuesto en la mÃ¡quina**: Ya instalado

### Arquitectura: ReAct + Memoria
**Â¿Por quÃ© ReAct?**
- **Transparencia**: El agente explica su razonamiento
- **Debuggeable**: FÃ¡cil ver errores en la cadena
- **Iterativo**: Permite corregir acciones anteriores
- `npm run build`: Construye la aplicaciÃ³n para producciÃ³n

### Backend
- `python src/api.py`: Inicia el servidor API
- `streamlit run streamlit_app.py`: Inicia la interfaz Streamlit

## Funcionalidades

- **CatÃ¡logo de Libros**: BÃºsqueda y filtrado avanzado
- **Sistema de PrÃ©stamos**: GestiÃ³n completa de prÃ©stamos y devoluciones
- **Chat Inteligente**: Asistente de IA para consultas sobre la biblioteca
- **GestiÃ³n de Usuarios**: Perfiles y historial de transacciones
- **Sistema de Multas**: CÃ¡lculo automÃ¡tico de multas por retrasos

## DocumentaciÃ³n

El proyecto incluye documentaciÃ³n adicional en los archivos:
- `Informe de Propuesta de SoluciÃ³n con IA para BiblioX.docx`
- `Informe-de-Propuesta-de-Solucion-con-IA-para-LibreriaX.pptx`

## ContribuciÃ³n

Este proyecto forma parte de una evaluaciÃ³n acadÃ©mica en IngenierÃ­a InformÃ¡tica.